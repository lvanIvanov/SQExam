ù
QC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Services\OrderService.cs
	namespace 	
System
 
. 
Domain 
. 
Services  
;  !
public 
class 
OrderService 
{ 
private 
readonly  
INotificationService )
?) * 
_notificationService+ ?
;? @
public		 

OrderService		 
(		  
INotificationService		 ,
?		, -
notificationService		. A
=		B C
null		D H
)		H I
{

  
_notificationService 
= 
notificationService 2
;2 3
} 
public 

void 
ExecuteOrder 
( 
Order "
order# (
,( )
Trader* 0
trader1 7
)7 8
{ 
if 

( 
order 
== 
null 
|| 
trader #
==$ &
null' +
||, .
order/ 4
.4 5
Stock5 :
==; =
null> B
)B C
returnD J
;J K
decimal 
	totalCost 
= 
order !
.! "
Stock" '
.' (
Price( -
*. /
order0 5
.5 6
Quantity6 >
;> ?
if 

( 
order 
. 
Status 
== 
OrderStatus '
.' (
Created( /
&&0 2
trader3 9
.9 :
Balance: A
>=B D
	totalCostE N
)N O
{ 	
trader 
. 
Balance 
-= 
	totalCost '
;' (
order 
. 
Place 
( 
) 
; 
if 
( 
order 
. 
Status 
== 
OrderStatus  +
.+ ,
Executed, 4
)4 5
{  
_notificationService $
?$ %
.% &
NotifyTrader& 2
(2 3
$str3 P
)P Q
;Q R
} 
} 	
else 
if 
( 
trader 
. 
Balance 
<  !
	totalCost" +
)+ ,
{   	
order!! 
.!! 
Reject!! 
(!! 
)!! 
;!!  
_notificationService""  
?""  !
.""! "
NotifyTrader""" .
("". /
$str""/ C
)""C D
;""D E
}## 	
}$$ 
public&& 

static&& 
int&& #
DetermineOrderRiskLevel&& -
(&&- .
Order&&. 3
order&&4 9
)&&9 :
{'' 
if(( 

((( 
order(( 
==(( 
null(( 
)(( 
return(( !
$num((" $
;(($ %
return** 
order** 
.** 
Quantity** 
switch** $
{++ 	
<=,, 
$num,, 
=>,, 
$num,, 
,,, 
<-- 
$num-- 
=>-- 
$num-- 
,-- 
<.. 
$num.. 
=>.. 
$num.. 
,.. 
<// 
$num// 
=>// 
$num// 
,// 
_00 
=>00 
$num00 
}11 	
;11	 

}22 
}33 š
HC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Models\Stock.cs
	namespace 	
System
 
. 
Domain 
. 
Models 
; 
public 
class 
Stock 
{ 
public 

string 
Symbol 
{ 
get 
; 
set  #
;# $
}% &
public 

decimal 
Price 
{ 
get 
; 
set  #
;# $
}% &
public 

Stock 
( 
string 
symbol 
, 
decimal  '
price( -
)- .
{		 
Symbol

 
=

 
symbol

 
;

 
Price 
= 
price 
; 
} 
} Ó
LC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Models\OrderType.cs
	namespace 	
System
 
. 
Domain 
. 
Models 
; 
public 
enum 
	OrderType 
{ 
Buy 
, 
Sell 
} Â
YC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Services\INotificationService.cs
	namespace 	
System
 
. 
Domain 
. 
Services  
;  !
public 
	interface  
INotificationService %
{ 
void 
NotifyTrader	 
( 
string 
message $
)$ %
;% &
} 
IC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Models\Trader.cs
	namespace 	
System
 
. 
Domain 
. 
Models 
; 
public 
class 
Trader 
{ 
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
public 

decimal 
Balance 
{ 
get  
;  !
set" %
;% &
}' (
public		 

Trader		 
(		 
string		 
name		 
,		 
decimal		 &
balance		' .
)		. /
{

 
Name 
= 
name 
; 
Balance 
= 
balance 
; 
} 
} ª
NC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Models\OrderStatus.cs
	namespace 	
System
 
. 
Domain 
. 
Models 
; 
public 
enum 
OrderStatus 
{ 
Created 
, 
Executed 
, 
Rejected 
, 
	Cancelled 
}		 ³
HC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Models\Order.cs
	namespace 	
System
 
. 
Domain 
. 
Models 
; 
public 
class 
Order 
{ 
public 

string 
Id 
{ 
get 
; 
set 
;  
}! "
public 

Stock 
Stock 
{ 
get 
; 
set !
;! "
}# $
public		 

int		 
Quantity		 
{		 
get		 
;		 
set		 "
;		" #
}		$ %
public

 

	OrderType

 
Type

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 

OrderStatus 
Status 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
OrderPriority 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
$str0 8
;8 9
public 

Order 
( 
Stock 
stock 
, 
int !
quantity" *
,* +
	OrderType, 5
type6 :
): ;
{ 
Id 

= !
RandomNumberGenerator "
." #
GetInt32# +
(+ ,
$num, 0
,0 1
$num2 7
)7 8
.8 9
ToString9 A
(A B
)B C
;C D
Stock 
= 
stock 
; 
Quantity 
= 
quantity 
; 
Type 
= 
type 
; 
Status 
= 
OrderStatus 
. 
Created $
;$ %
} 
public 

void 
Place 
( 
) 
{ 
if 

( 
Quantity 
> 
$num 
&& 
Quantity $
<=% '
$num( ,
), -
{ 	
Status 
= 
OrderStatus  
.  !
Executed! )
;) *
} 	
else 
{ 	
Reject   
(   
)   
;   
}!! 	
}"" 
public$$ 

void$$ 
Reject$$ 
($$ 
)$$ 
{%% 
Status&& 
=&& 
OrderStatus&& 
.&& 
Rejected&& %
;&&% &
}'' 
}(( 