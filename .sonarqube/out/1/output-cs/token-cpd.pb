Â
QC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Services\OrderService.cs
	namespace 	
System
 
. 
Domain 
. 
Services  
;  !
public 
class 
OrderService 
{ 
private		 
const		 
string		 
	AdminRole		 "
=		# $
$str		% ,
;		, -
private 
readonly  
INotificationService )
?) * 
_notificationService+ ?
;? @
public 

OrderService 
(  
INotificationService ,
?, -
notificationService. A
=B C
nullD H
)H I
{  
_notificationService 
= 
notificationService 2
;2 3
} 
public 

void 
ExecuteOrder 
( 
Order "
order# (
,( )
Trader* 0
trader1 7
)7 8
{ 
if 

( 
order 
. 
Status 
== 
OrderStatus '
.' (
Created( /
)/ 0
{ 	
if 
( 
trader 
. 
Balance 
>= !
(" #
order# (
.( )
Stock) .
.. /
Price/ 4
*5 6
order7 <
.< =
Quantity= E
)E F
)F G
{ 
try 
{ 
order 
. 
Place 
(  
)  !
;! "
if 
( 
order 
. 
Status $
==% '
OrderStatus( 3
.3 4
Executed4 <
)< =
{  
_notificationService   ,
?  , -
.  - .
NotifyTrader  . :
(  : ;
$str  ; X
)  X Y
;  Y Z
}!! 
}"" 
catch## 
{$$ 
}&& 
}'' 
}(( 	
})) 
public,, 

string,, "
GetOrdersBySymbolQuery,, (
(,,( )
string,,) /
symbolInput,,0 ;
),,; <
{-- 
string// 
query// 
=// 
$str// >
+//? @
symbolInput//A L
+//M N
$str//O R
;//R S
return00 
query00 
;00 
}11 
public55 

int55 #
DetermineOrderRiskLevel55 &
(55& '
Order55' ,
order55- 2
)552 3
{66 
if77 

(77 
order77 
.77 
Quantity77 
<=77 
$num77 
)77  
return88 
$num88 
;88 
else99 
if99 
(99 
order99 
.99 
Quantity99 
<99  !
$num99" $
)99$ %
return:: 
$num:: 
;:: 
else;; 
if;; 
(;; 
order;; 
.;; 
Quantity;; 
<;;  !
$num;;" $
);;$ %
return<< 
$num<< 
;<< 
else== 
if== 
(== 
order== 
.== 
Quantity== 
<==  !
$num==" %
)==% &
return>> 
$num>> 
;>> 
else?? 
return@@ 
$num@@ 
;@@ 
}AA 
}BB Â
YC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Services\INotificationService.cs
	namespace 	
System
 
. 
Domain 
. 
Services  
;  !
public 
	interface  
INotificationService %
{ 
void 
NotifyTrader	 
( 
string 
message $
)$ %
;% &
} ø
IC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Models\Trader.cs
	namespace 	
System
 
. 
Domain 
. 
Models 
; 
public 
class 
Trader 
{ 
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
public 

decimal 
Balance 
{ 
get  
;  !
set" %
;% &
}' (
private 
int $
_internalRiskCalculation (
;( )
public

 

Trader

 
(

 
string

 
name

 
,

 
decimal

 &
balance

' .
)

. /
{ 
Name 
= 
name 
; 
Balance 
= 
balance 
; 
} 
} Ó
LC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Models\OrderType.cs
	namespace 	
System
 
. 
Domain 
. 
Models 
; 
public 
enum 
	OrderType 
{ 
Buy 
, 
Sell 
} ü
HC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Models\Stock.cs
	namespace 	
System
 
. 
Domain 
. 
Models 
; 
public 
class 
Stock 
{ 
public 

string 
Symbol 
; 
public 

decimal 
Price 
; 
public 

Stock 
( 
string 
symbol 
, 
decimal  '
price( -
)- .
{		 
Symbol

 
=

 
symbol

 
;

 
Price 
= 
price 
; 
} 
} ª
NC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Models\OrderStatus.cs
	namespace 	
System
 
. 
Domain 
. 
Models 
; 
public 
enum 
OrderStatus 
{ 
Created 
, 
Executed 
, 
Rejected 
, 
	Cancelled 
}		 –
HC:\Users\ivan1\RiderProjects\BugFreeInvest\System.Domain\Models\Order.cs
	namespace 	
System
 
. 
Domain 
. 
Models 
; 
public 
class 
Order 
{ 
public 

string 
Id 
{ 
get 
; 
set 
;  
}! "
public 

Stock 
Stock 
{ 
get 
; 
set !
;! "
}# $
public 

int 
Quantity 
{ 
get 
; 
set "
;" #
}$ %
public 

	OrderType 
Type 
{ 
get 
;  
set! $
;$ %
}& '
public		 

OrderStatus		 
Status		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
public 

string 
OrderPriority 
=  !
$str" *
;* +
public 

Order 
( 
Stock 
stock 
, 
int !
quantity" *
,* +
	OrderType, 5
type6 :
): ;
{ 
Id 

= 
new 
Random 
( 
) 
. 
Next 
( 
$num #
,# $
$num% *
)* +
.+ ,
ToString, 4
(4 5
)5 6
;6 7
Stock 
= 
stock 
; 
Quantity 
= 
quantity 
; 
Type 
= 
type 
; 
Status 
= 
OrderStatus 
. 
Created $
;$ %
} 
public 

void 
Place 
( 
) 
{ 
if 

( 
Quantity 
> 
$num 
) 
{ 	
if 
( 
Quantity 
<= 
$num  
)  !
{   
Status!! 
=!! 
OrderStatus!! $
.!!$ %
Executed!!% -
;!!- .
}"" 
else## 
{$$ 
Status%% 
=%% 
OrderStatus%% $
.%%$ %
Rejected%%% -
;%%- .
}&& 
}'' 	
else(( 
{)) 	
Status++ 
=++ 
OrderStatus++  
.++  !
Rejected++! )
;++) *
},, 	
}-- 
}.. 